NOTE PROJECT CHAT APP USING FLUTTER & WEBSOCKET

Nama Aplikasi: Ngobrolin

Fungsi:
Chat
Notifikasi
List Another Account & Search
SignIn, SignUp, Forgot Password
Block Account
Settings (Localization Language (Indonesia, English), Private Account (User lain tidak bisa memulai chat dengan private account), Blocked Account)

Detail Halaman:
Splash screen: Logo Aplikasi
Onboarding screen: 1-3 halaman pageview sebagai perkenalan aplikasi
Sign Up: Daftar akun (Username, Name, Password, Confirm Password)
Sign In: Masuk akun (Username, Password)
Menu Utama: App bar (nama aplikasi: Ngobrolin, icon Settings(navigasi ke halaman settings)), view halaman, Bottom Nav bar (navigasi ke Halaman Obrolan (List Chat), Halaman Pengguna (Search Account), Halaman Profile) 
Obrolan (List chat): List dari chat dengan akun-akun lain, Floating Action Button add chat (navigasi ke halaman search account)
Pengguna (Search Account): Search bar, jika searchbar kosong list akun random, jika searchbar terisi list akun sesuai pencarian
Profile: Gambar profil (editable), username (not editable), name (editable), bio (editable), new password (jika diperlukan)
Detail Profile:  Gambar profil, username, name, bio, button kirim pesan
Room Chat: App bar (back button, partner chat name), chat section (chat bubble, date, time), chat textinput bar (add icon to input attachment, text input, send icon)
Settings: private account, blocked user, option language (eng, id)
Blocked Account: list pengguna yang telah diblokir

====================== TECH STACK =================================
Flutter
WebSocket (Socket.io library)
Firebase Cloud Messaging
Arsitektur MVVM
State management Provider
Node.js, Express.js 
PostgreSQL
Bcrypt

=========================== USER INTERFACE ===============================
Color Palette:
Primary – #075E54
Ini adalah warna utama yang digunakan untuk bagian header, tombol kirim pesan, atau elemen navigasi penting. Memberikan kesan profesional, tegas, dan mudah dikenali.
Accent – #25D366
Warna hijau cerah khas WhatsApp yang digunakan untuk tombol aktif, ikon kirim, indikator online, atau elemen interaktif lain. Memberi sentuhan energik dan positif.
Background – #ECE5DD
Warna krem lembut untuk latar belakang area chat. Terlihat bersih, ringan, dan tidak melelahkan mata saat digunakan dalam jangka panjang.
Chat Bubble (User) – #DCF8C6
Warna hijau muda untuk pesan yang dikirim oleh pengguna sendiri. Memberikan diferensiasi jelas dari pesan lawan bicara namun tetap lembut dan harmonis.
Chat Bubble (Other) – #FFFFFF
Putih bersih untuk pesan dari lawan bicara. Memberikan kontras lembut terhadap pesan pengguna tanpa membuat tampilan terlalu mencolok.
Text – #303030
Warna abu gelap untuk teks utama agar tetap nyaman dibaca di atas background terang. Memberikan tampilan tajam namun tidak sekeras hitam murni.
Timestamp – #999999
Abu-abu muda untuk teks sekunder seperti waktu pesan atau status “dibaca”. Tidak mencuri perhatian dari teks utama namun tetap mudah terlihat.
Deactive Button - #A8A8A8
Warning - #A80000
Background General - #F2F2F2

UI Wording (Indonesia dan english):
NGOBROLIN
Selamat datang di Ngobrolin!
Temukan teman baru dan chat dengan aman kapan saja.
Masuk
Mulai Sekarang
Username
Masukkan username
Password 
Konfirmasi Password
Masukkan password
Daftar Akun
Masuk Akun
Nama
Masukkan Nama
Belum memiliki akun?
Daftar
Cari teman obrolan
Cari pengguna
Obrolan
Pengguna
Pengaturan
Profil
Keluar Akun
Ganti Profil
Bio
Password Baru
Konfirmasi Password Baru
Simpan Perubahan
Simpan
Mulai Obrolan
Pesan
Pengguna Diblokir
Bahasa Aplikasi
Akun Privat
Saat akun diatur sebagai privat, pengguna lain tidak dapat memulai obrolan dengan Kamu.
Blokir Akun
Ya
Tidak
Apakah Kamu yakin ingin keluar?
Apakah Kamu yakin ingin memblokir pengguna ini?
Lupa Password
Ganti Password

================= DATABASE =============================
tbluser
id (uuid, pk)
username (varchar, unik)
name (varchar)
password (varchar, hasil bcrypt)
bio (text, nullable)
avatarUrl(text, nullable)
language (varchar(5), default 'id')
isPrivate (boolean, default false)
createdAt (timestamp)
updatedAt (timestamp

tblconversations 
id (uuid, pk)
type (varchar, default 'private', enum: 'private', 'group')
name (varchar, nullable) — hanya dipakai kalau grup
group_image (text, nullable) — foto grup (opsional)
created_at (timestamp)
Note: Untuk chat pribadi, name dan group_image bisa NULL.

tblconversation_participants
id (uuid, pk)
conversation_id (uuid, fk → conversations.id)
user_id (uuid, fk → users.id)
last_read_message_id (uuid, nullable, fk → messages.id) — untuk status read
joined_at (timestamp)
Note: Untuk private chat, otomatis akan berisi dua baris data (dua user).

tblmessages
id (uuid, pk)
conversation_id (uuid, fk → conversations.id)
sender_id (uuid, fk → users.id)
content (text)
type (varchar, default 'text')
is_read (boolean, default false) — bisa dihapus nanti kalau tracking per user
created_at (timestamp)
Note: Jika ingin tracking read per user, gunakan conversation_participants.last_read_message_id.

tblblocked_users
id (uuid, pk)
user_id (uuid, fk → users.id) — yang memblokir
blocked_user_id (uuid, fk → users.id) — yang diblokir
created_at (timestamp)
Note: Server perlu memvalidasi:user A tidak bisa mengirim pesan ke user B jika diblokir; tapi blokir tidak berlaku untuk grup (opsional, bisa kamu desain nanti)

tblfcm_tokens
id (uuid, pk)
user_id (uuid, fk → users.id)
token (text, unik)
created_at (timestamp)
